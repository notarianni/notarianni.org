<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kata APB - notarianni.org</title>
<style>
body {
    font-family: Georgia, serif;
    font-size: 18px;
    line-height: 1.6;
    max-width: 650px;
    margin: 0 auto;
    padding: 40px 20px;
    color: #333;
}

nav {
    margin-bottom: 40px;
    font-size: 16px;
}

nav a {
    color: #333;
    text-decoration: none;
    margin-right: 15px;
}

nav a:hover {
    text-decoration: underline;
}

h1 {
    font-size: 28px;
    font-weight: normal;
    margin-bottom: 30px;
}

h2 {
    font-size: 22px;
    font-weight: normal;
    margin-top: 40px;
    margin-bottom: 20px;
}

a {
    color: #0066cc;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

 
nav ul {
    list-style: none;
    padding: 0;
}

nav ul li {
    margin-bottom: 12px;
}

 
main ul {
    list-style: disc;
    padding-left: 30px;
    margin-bottom: 20px;
}

main ul li {
    margin-bottom: 8px;
}

main ol {
    padding-left: 30px;
    margin-bottom: 20px;
}

main ol li {
    margin-bottom: 8px;
}

 
.posts-list {
    list-style: none;
    padding: 0;
}

.posts-list li {
    margin-bottom: 12px;
}

.intro {
    margin-bottom: 40px;
    line-height: 1.8;
}

.footer {
    margin-top: 60px;
    font-size: 14px;
    color: #666;
}

 
.code-block-wrapper {
    position: relative;
    margin: 20px 0;
}

pre {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 15px;
    padding-top: 40px;
    overflow-x: auto;
    font-size: 13px;
    line-height: 1.4;
    margin: 0;
}

code {
    font-family: 'Courier New', Courier, monospace;
    font-size: 13px;
}

pre code {
    background-color: transparent;
    border: none;
    padding: 0;
}

.copy-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 8px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
}

.copy-button:hover {
    background-color: #e8e8e8;
    border-color: #999;
}

.copy-button:active {
    background-color: #d8d8d8;
}

.copy-button.copied {
    background-color: #4CAF50;
    border-color: #4CAF50;
}

.copy-button svg {
    width: 16px;
    height: 16px;
    stroke: #333;
    transition: stroke 0.2s;
}

.copy-button.copied svg {
    stroke: white;
}
</style>
</head>
<body>
<nav>

<a href="/">accueil</a>
<a href="/posts/">posts</a>
<a href="/about/">à propos</a>

</nav>


<h1>Kata APB</h1>



<p><a href="https://www.admission-postbac.fr/">Admission Post Bac</a> (APB) est
l&rsquo;application officielle du Ministère de l&rsquo;Education Nationale permettant aux
lycéens d&rsquo;obtenir l&rsquo;inscription dans une école ou université post-
bac.</p>
<p>L&rsquo;objectif de ce kata est de concevoir et implémenter <em>votre</em> version de cette
application. Vous êtes libre de choisir votre algorithme et vos contraintes.
Vous pouvez vous inspirer de l&rsquo;application existante ou bien inventer votre
propre approche.</p>
<h2 id="description-du-problème">Description du problème</h2>
<p>Constuisez un programme qui permette de déterminer les affectations d&rsquo;une liste
d&rsquo;étudiants selon une liste de formations disponibles.</p>
<p>Le programme doit accepter en entrée:</p>
<ul>
<li>La liste des étudiants</li>
<li>La liste des formations</li>
</ul>
<p>Chaque étudiant et chaque formation doit être identifiée par un nom unique.
Afin d&rsquo;alimenter votre algorithme, vous pouvez ajouter autant d&rsquo;information
que nécessaire aussi bien aux étudiants qu&rsquo;aux formations .</p>
<p>Le programme fournira en résultat une liste indiquant pour chaque étudiant la
formation qui lui a été affectée.</p>
<h2 id="motivations">Motivations</h2>
<p>Beaucoup de kata sont un peu <em>artificiels</em>. Ils offrent un intérêt pour
l’algorithmique qu’ils permettent de mettre en oeuvre, mais n’ont pas
d’application concrètes pour de <em>vrais</em> utilisateurs. [APB](https://www
.admission-postbac.fr/) en revanche est utilisé par des centaines de milliers
de personnes et il a un impact déterminant sur leurs vies.</p>
<p>Malgrè tout, le sujet traité reste tout à fait accessible. Tout le monde peut
comprendre le domaine métier sans faire appel à des <em>experts métiers</em>. Les
personnes suffisamment jeunes ont elles-même été confrontées à APB et peuvent
se souvenir ce qu’il peut représenter, et ainsi imaginer une solution qui
leur paraitra plus adaptée.</p>
<p>Si ce kata rencontre un peu de succès auprès de la communauté des
informaticiens, il devient envisageable de trouver des implémentations
différentes, avec des niveaux de complexité variables mais surtout avec des
choix de critères d’algorithmes différents. Nous pourrions alors comparer ces
algorithmes entre eux et faire émerger une ou plusieurs solutions satisfaisantes.</p>
<p>Le code original de la première version de l&rsquo;application a été mise en ligne sur ce
<a href="https://github.com/jeantil/admission_post_bac">repo git</a>. Les plus courageux
pourront tenter de le decrypter et peut être l&rsquo;améliorer.</p>
<p>Néanmoins, le plus simple reste probablement d&rsquo;inventer sa propre version. On
pourra éventuellement s&rsquo;inpirer de travaux existants, tel que par exemple un
algorithme de <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_des_mariages_stables">mariages
stables</a>.</p>
<h2 id="un-exemple-de-solution-simple">Un exemple de solution simple</h2>
<p>Nous vous proposons ici une solution implémentée en <a href="https://www.haskell.org/">Haskell</a>.</p>
<ul>
<li>Il n&rsquo;y a aucun critère de sélection pour l&rsquo;entrée dans les formations;</li>
<li>Nous distibuons les étudiants les uns après les autres sur la liste des formations disponibles;</li>
<li>Le nombre de places par formations n&rsquo;est pas limité.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-haskell" data-lang="haskell"><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#24292e">Test.Hspec</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">data</span> <span style="color:#cf222e">Etudiant</span>  <span style="color:#0550ae">=</span> <span style="color:#cf222e">Etudiant</span>  <span style="color:#cf222e">String</span> <span style="color:#cf222e">deriving</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">Show</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">Eq</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">data</span> <span style="color:#cf222e">Formation</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">Formation</span> <span style="color:#cf222e">String</span> <span style="color:#cf222e">deriving</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">Show</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">Eq</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">distribue</span> <span style="color:#0550ae">::</span> <span style="color:#1f2328">[</span> a <span style="color:#1f2328">]</span> <span style="color:#0550ae">-&gt;</span> <span style="color:#1f2328">[</span> b <span style="color:#1f2328">]</span> <span style="color:#0550ae">-&gt;</span> <span style="color:#1f2328">[</span> <span style="color:#1f2328">(</span>a<span style="color:#1f2328">,</span>b<span style="color:#1f2328">)</span> <span style="color:#1f2328">]</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">distribue</span> a <span style="color:#cf222e">[]</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">[]</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">distribue</span> a b <span style="color:#0550ae">=</span>
</span></span><span style="display:flex;"><span>  dist a b
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">where</span>
</span></span><span style="display:flex;"><span>    dist <span style="color:#cf222e">[]</span> x <span style="color:#0550ae">=</span> <span style="color:#cf222e">[]</span>
</span></span><span style="display:flex;"><span>    dist x <span style="color:#cf222e">[]</span> <span style="color:#0550ae">=</span> dist x b
</span></span><span style="display:flex;"><span>    dist <span style="color:#1f2328">(</span>xh <span style="color:#cf222e">:</span> xt <span style="color:#1f2328">)</span> <span style="color:#1f2328">(</span> yh <span style="color:#cf222e">:</span> yt <span style="color:#1f2328">)</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">(</span>xh<span style="color:#1f2328">,</span> yh<span style="color:#1f2328">)</span> <span style="color:#cf222e">:</span> dist xt yt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">apb</span> <span style="color:#0550ae">::</span> <span style="color:#1f2328">[</span> <span style="color:#cf222e">Etudiant</span> <span style="color:#1f2328">]</span> <span style="color:#0550ae">-&gt;</span> <span style="color:#1f2328">[</span> <span style="color:#cf222e">Formation</span> <span style="color:#1f2328">]</span> <span style="color:#0550ae">-&gt;</span> <span style="color:#1f2328">[</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">Etudiant</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">Formation</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">]</span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">apb</span> etudiants formations <span style="color:#0550ae">=</span>
</span></span><span style="display:flex;"><span>  distribue etudiants formations
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6639ba">main</span> <span style="color:#0550ae">=</span> hspec <span style="color:#0550ae">$</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>  describe <span style="color:#0a3069">&#34;apb&#34;</span> <span style="color:#0550ae">$</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    it <span style="color:#0a3069">&#34;distribue deux listes comme deux jeux de cartes&#34;</span> <span style="color:#0550ae">$</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">2</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">[</span><span style="color:#0550ae">3</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span> <span style="color:#1f2328">[(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">),</span> <span style="color:#1f2328">(</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">)]</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">[</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span> <span style="color:#1f2328">[(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">2</span><span style="color:#1f2328">)]</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">(</span><span style="color:#cf222e">[]</span> <span style="color:#0550ae">::</span> <span style="color:#1f2328">[</span><span style="color:#cf222e">Int</span><span style="color:#1f2328">])</span> <span style="color:#1f2328">[</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span> <span style="color:#cf222e">[]</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">]</span>  <span style="color:#1f2328">(</span><span style="color:#cf222e">[]</span> <span style="color:#0550ae">::</span> <span style="color:#1f2328">[</span><span style="color:#cf222e">Int</span><span style="color:#1f2328">])</span>  <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span> <span style="color:#cf222e">[]</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">[</span><span style="color:#0550ae">4</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">,</span><span style="color:#0550ae">6</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">[(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">4</span><span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span><span style="color:#0550ae">3</span><span style="color:#1f2328">,</span><span style="color:#0550ae">6</span><span style="color:#1f2328">)]</span>
</span></span><span style="display:flex;"><span>      distribue <span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">3</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">[</span><span style="color:#0550ae">4</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">[(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">4</span><span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span><span style="color:#0550ae">2</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span><span style="color:#0550ae">3</span><span style="color:#1f2328">,</span><span style="color:#0550ae">4</span><span style="color:#1f2328">)]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    it <span style="color:#0a3069">&#34;reparti les etudiants sur les formations&#34;</span> <span style="color:#0550ae">$</span> <span style="color:#cf222e">do</span>
</span></span><span style="display:flex;"><span>      apb <span style="color:#1f2328">[</span>e1<span style="color:#1f2328">,</span>e2<span style="color:#1f2328">,</span>e3<span style="color:#1f2328">]</span> <span style="color:#1f2328">[</span>f1<span style="color:#1f2328">,</span> f2<span style="color:#1f2328">]</span> <span style="color:#1f2328">`</span>shouldBe<span style="color:#1f2328">`</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">[(</span>e1<span style="color:#1f2328">,</span>f1<span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span>e2<span style="color:#1f2328">,</span>f2<span style="color:#1f2328">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#1f2328">(</span>e3<span style="color:#1f2328">,</span>f1<span style="color:#1f2328">)]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">where</span>
</span></span><span style="display:flex;"><span>        e1 <span style="color:#0550ae">=</span> <span style="color:#cf222e">Etudiant</span> <span style="color:#0a3069">&#34;Jeanne&#34;</span>
</span></span><span style="display:flex;"><span>        e2 <span style="color:#0550ae">=</span> <span style="color:#cf222e">Etudiant</span> <span style="color:#0a3069">&#34;Mathilde&#34;</span>
</span></span><span style="display:flex;"><span>        e3 <span style="color:#0550ae">=</span> <span style="color:#cf222e">Etudiant</span> <span style="color:#0a3069">&#34;Sophie&#34;</span>
</span></span><span style="display:flex;"><span>        f1 <span style="color:#0550ae">=</span> <span style="color:#cf222e">Formation</span> <span style="color:#0a3069">&#34;Informatique&#34;</span>
</span></span><span style="display:flex;"><span>        f2 <span style="color:#0550ae">=</span> <span style="color:#cf222e">Formation</span> <span style="color:#0a3069">&#34;Histoire&#34;</span></span></span></code></pre></div>
<p>Vous trouverez d&rsquo;autre solutions simples dans ce <a href="https://github.com/BernardNotarianni/kata-apb">repository
git</a>.</p>



<div class="footer">
<a href="/en/posts/kata-apb/">English</a>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    const copyIconSVG = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';

    
    const checkIconSVG = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>';

    
    const preBlocks = document.querySelectorAll('pre');

    preBlocks.forEach(function(pre) {
        
        const wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';

        
        const button = document.createElement('button');
        button.className = 'copy-button';
        button.innerHTML = copyIconSVG;
        button.setAttribute('aria-label', 'Copier le code');
        button.setAttribute('title', 'Copier le code');

        
        pre.parentNode.insertBefore(wrapper, pre);

        
        wrapper.appendChild(pre);

        
        wrapper.appendChild(button);

        
        button.addEventListener('click', function() {
            const code = pre.textContent;

            navigator.clipboard.writeText(code).then(function() {
                button.innerHTML = checkIconSVG;
                button.classList.add('copied');
                button.setAttribute('title', 'Copié !');

                setTimeout(function() {
                    button.innerHTML = copyIconSVG;
                    button.classList.remove('copied');
                    button.setAttribute('title', 'Copier le code');
                }, 2000);
            }).catch(function(err) {
                console.error('Erreur lors de la copie:', err);
                button.setAttribute('title', 'Erreur lors de la copie');

                setTimeout(function() {
                    button.setAttribute('title', 'Copier le code');
                }, 2000);
            });
        });
    });
});
</script>
</body>
</html>

